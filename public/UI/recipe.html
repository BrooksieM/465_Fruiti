<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recipe Page</title>
<link rel="stylesheet" href="../css/standardLayout.css">
<link rel="stylesheet" href="../css/recipePage/recipePage.css">
<link rel="stylesheet" href="../css/recipePage/filter.css">
<link rel="stylesheet" href="../css/footer/footer.css">
<link rel="stylesheet" href="../css/ratings.css">

</head>

<body>
  <div class="navbar">
<div class="logo">
      <a href="/">
        <img src="../images/fruiti.png" alt="Fruiti logo - Click to go home" />
      </a>
    </div>

    <div class="search-bar">
      <input type="text" placeholder="Search Fruit" />
    </div>


<div class="auth-buttons" id="authButtons"></div>


  </div>

    <nav class="nav-links">
      <a href="/">Home</a>
      <a href="/become-seller">Become a Seller</a>
      <a href="nutrition">Nutrition</a>
      <a href="/recipe" class="active">Recipes</a>
      <a href="/aboutus">About Us</a>
    </nav>

  <div class="black-bar"></div>

  <!-- Main Content -->
  <div class="recipe-container">
    <!-- Toggle Button for Recipe Form -->
    <!-- <div id="createRecipeButton" class="create-recipe-button hidden">
      <button class="btn-create" onclick="openCreateRecipeModal()">+ Create Recipe</button>
    </div> -->

    <!-- Content Wrapper with Filters -->
    <div class="recipe-content-wrapper">
      <!-- Filter Sidebar -->
      <aside class="recipe-filter-sidebar">
        <h3>Filters</h3>

        <div class="filter-group">
          <h4>Difficulty</h4>
          <label class="filter-label">
            <input type="checkbox" class="difficulty-filter" value="Easy">
            Easy
          </label>
          <label class="filter-label">
            <input type="checkbox" class="difficulty-filter" value="Medium">
            Medium
          </label>
          <label class="filter-label">
            <input type="checkbox" class="difficulty-filter" value="Hard">
            Hard
          </label>
        </div>

        <div class="filter-group">
          <h4>Cooking Time</h4>
          <label class="filter-label">
            <input type="checkbox" class="time-filter" value="0-15">
            0 - 15 mins
          </label>
          <label class="filter-label">
            <input type="checkbox" class="time-filter" value="15-45">
            15 - 45 mins
          </label>
          <label class="filter-label">
            <input type="checkbox" class="time-filter" value="45-75">
            45 - 75 mins
          </label>
          <label class="filter-label">
            <input type="checkbox" class="time-filter" value="75+">
            75+ mins
          </label>
        </div>

        <div class="filter-group">
          <p id="recipeCount">0 recipes found</p>
          <button class="btn-clear-filters" onclick="clearFilters()">Clear Filters</button>
        </div>
      </aside>

      <!-- Main Content Area -->
      <div class="recipe-main-content">
        <!-- Recipes List -->
        <h2>Recipes</h2>
            <div id="createRecipeButton" class="create-recipe-button hidden">
      <button class="btn-create" onclick="openCreateRecipeModal()">+ Create Recipe</button>
    </div>
        <div id="recipesList" class="recipes-grid">
          <!-- Recipes will be loaded here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Create Recipe Modal -->
  <div id="createRecipeModal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeCreateRecipeModal()">&times;</span>
      <h2 id="modalTitle">Create a Recipe</h2>
      <br>
      <form id="createRecipeForm">
        <div class="form-group">
          <label for="recipeName">Recipe Name:</label>
          <input type="text" id="recipeName" required placeholder="Enter recipe name">
        </div>

        <div class="form-group">
          <label>Ingredients:</label>
          <div id="selectedIngredientsContainer" class="selected-ingredients"></div>
          <div class="ingredient-search-wrapper">
            <div class="ingredient-search-box">
              <input type="text" id="ingredientSearch" class="ingredient-search-input" placeholder="Search for ingredients" maxlength="20">
              <div id="ingredientSearchResults" class="ingredient-search-results hidden"></div>
            </div>
            <button type="button" class="btn-remove-all-ingredients" onclick="removeAllIngredients()">Remove All</button>
          </div>
        </div>

        <div class="form-group">
          <label>Instructions:</label>
          <div id="instructionsContainer" class="instructions-container">
            <div class="instruction-input-wrapper">
              <input type="text" class="instruction-input" placeholder="Enter instruction step" required>
              <button type="button" class="btn-remove-instruction hidden" onclick="removeInstruction(this)">Remove</button>
            </div>
          </div>
          <button type="button" class="btn-add-instruction" onclick="addInstruction()">+ Add Instruction</button>
        </div>

        <div class="form-group">
          <label for="recipeImage">Recipe Image:</label>
          <input type="file" id="recipeImage" accept="image/*" placeholder="Upload a recipe image">
          <div id="imagePreview" class="image-preview"></div>
        </div>

        <div class="form-group">
          <label>Season:</label>
          <div class="season-options">
            <input type="hidden" id="seasonInput" name="season" value="auto">
            <div class="season-button" data-season="auto" id="seasonAuto">
              Auto
            </div>
            <div class="season-button" data-season="none" id="seasonNone">
              None
            </div>
            <div class="season-button" data-season="spring" id="seasonSpring">
              Spring
            </div>
            <div class="season-button" data-season="summer" id="seasonSummer">
              Summer
            </div>
            <div class="season-button" data-season="fall" id="seasonFall">
              Fall
            </div>
            <div class="season-button" data-season="winter" id="seasonWinter">
              Winter
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>Difficulty Level:</label>
          <div class="difficulty-options">
            <input type="hidden" id="difficultyInput" name="difficulty" value="">
            <div class="difficulty-circle" data-difficulty="Easy" id="circlEasy">
              Easy
            </div>
            <div class="difficulty-circle" data-difficulty="Medium" id="circleMedium">
              Medium
            </div>
            <div class="difficulty-circle" data-difficulty="Hard" id="circleHard">
              Hard
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="estimatedTime">Estimated Time (minutes):</label>
          <input type="number" id="estimatedTime" min="1" max="512">
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-submit">Create Recipe</button>
          <button type="button" class="btn-cancel" onclick="closeCreateRecipeModal()">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Recipe Detail Modal -->
  <div id="recipeModal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeRecipeModal()">&times;</span>
      <div id="recipeDetail">
        <!-- Recipe details will be loaded here -->
      </div>
    </div>
  </div>

  <div id="footer-placeholder"></div>

<script src="../scripts/footer.js"></script>
<script src="../scripts/navigationForLoggedInUser.js"></script>
<script src="../scripts/rating.js"></script>
<script src="../scripts/filter.js"></script>
<script src="../scripts/recipe.js"></script>
  </body>