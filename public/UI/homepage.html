<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Home Page</title>
<link rel="stylesheet" href="../css/standardLayout.css">
<link rel="stylesheet" href="../css/HomePage/homepage.css">
<link rel="stylesheet" href="../css/footer/footer.css">
<link rel="stylesheet" href="../css/modal/seller-modal.css">
<link rel="stylesheet" href="../css/ratings.css">

</head>

<body>
  <div class="navbar">
<div class="logo">
      <a href="/">
        <img src="../images/fruiti.png" alt="Fruiti logo - Click to go home" />
      </a>
    </div>

    <div class="search-bar">
      <input type="text" placeholder="Search Fruit" />
    </div>


<div class="auth-buttons" id="authButtons"></div>


  </div>

    <nav class="nav-links">
      <a href="/" class="active">Home</a>
      <a href="/become-seller">Become a Seller</a>
      <a href="nutrition">Nutrition</a>
      <a href="/recipe">Recipes</a>
      <a href="/aboutus">About Us</a>
    </nav>

  <div class="black-bar"></div>

  <div class="heading-filter-wrapper">
    <!-- Filter Controls -->
    <div class="filter-controls">
      <div class="filter-group zipcode-group">
        <label for="zipcodeSearch">ZIP Code:</label>
        <input
          type="text"
          id="zipcodeSearch"
          placeholder="Enter ZIP"
          maxlength="5"
          pattern="[0-9]{5}"
        />
        <button id="clearFilter" class="clear-filter-btn">Clear</button>
      </div>

      <div class="filter-group range-group">
        <label for="rangeSlider">Distance:</label>
        <input
          type="range"
          id="rangeSlider"
          min="10"
          max="100"
          value="50"
          step="5"
        />
        <span id="rangeValue">50</span>
        <span style="color: #999; font-size: 14px;">mi</span>
      </div>
    </div>

    <div class="section-heading">Fruit Stands Near you!</div>
  </div>

  <div id="map"></div>

<div class="section-heading">Featured Fruit Stands</div>
<div class="featured-stands-container" id="featuredStands">
  <!-- Featured stands will be dynamically loaded here -->
  <div class="loading-placeholder">Loading featured stands...</div>
</div>
<div class="spacing"></div>

<div id="footer-placeholder"></div>
<script src="../scripts/footer.js"></script>

<script src="/scripts/gmaps/complete.js"></script>

<script src="/scripts/favoriteFruitStand.js"></script>

<script src="/scripts/randomizer.js"></script>

<script src="/scripts/featuredStands.js"></script>

<script src="/scripts/rating.js"></script>

<script>
  // Fetch Google Maps API key from server and load the Maps script
  fetch('/api/gmaps-key')
    .then(response => response.json())
    .then(data => {
      const script = document.createElement('script');
      script.src = `https://maps.googleapis.com/maps/api/js?key=${data.apiKey}&loading=async&callback=initMap`;
      script.async = true;
      script.defer = true;
      document.head.appendChild(script);
    })
    .catch(error => console.error('Error loading Google Maps API key:', error));
</script>

<script src="/scripts/navigationForLoggedInUser.js"></script>
</body>

</html>
